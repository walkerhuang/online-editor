<html>
<head>
<title>
Online Coding Tool
</title>
<script src="js/togetherjs-min.js"></script>
<script src="js/jquery-1.11.1.js"></script>
<link href="css/monokai_sublime.min.css" rel="stylesheet">  
<link href="css/coding.css" rel="stylesheet">  
<script src="js/highlight.pack.js"></script>  
<script >hljs.initHighlightingOnLoad();</script>  
</head>
<body>
  <header>
  <div class="heading-wrap">
<h1>Online Coding Tool</h1>
<p>Let's coding together.</p>
</div>
</header>
<br/>
<div class="left">
  <button onclick="TogetherJS(this);return false;">Coding Together</button>
  <br/>
  <textarea class="codearea">Past your code here</textarea>
  <button id="run_button">Run</button>
  <button id="save_button">Save</button>
</div>
<div class="right">
<pre>
<code class="codearea" id="highlight"></code>
</pre>
</div>
<footer>
  <article>
    <p>
      "Developed by walker huang. Please contact to walker_huang@symantec.com for any feedback."
    </p>
  </article>
</footer>
<script>
  $('textarea').bind('keyup', function() {
      var code = $('textarea').val();
	  var $highlight = $('#highlight');
	  $highlight.empty();
	  $highlight.append(code);
	  $highlight.each(function(i, block) {
          hljs.highlightBlock(block);
      });
  });

  $('textarea').bind('click',function(event) {
    $(this).empty();
    event.stopPropagation();
  });

  $('#run_button').bind('click', function() {
      var text=$('textarea').val();
      alert(text);
      $.post('cgi-bin/run.pl', {val:text}, function(response) {
          alert(response.val);
    },'json');
  });
  $('#save_button').bind('click', function() {
    $.post('save.pl', $('textarea').val(), function(response) {
      alert(response);
    })
  })
</script>
</body>
</html>
